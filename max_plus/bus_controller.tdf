SUBDESIGN bus_controller
(
	from_ip[11..0],
	from_mem[11..0],
	from_ob[11..0],
	from_acc[11..0],
	from_ir[11..0],
	in[2..0] : INPUT;
	main_bus[11..0] : OUTPUT;
)

BEGIN

CASE in[] IS
	WHEN b"000" =>
		main_bus[] = from_ip[];
	WHEN b"001" =>
		main_bus[] = from_mem[];
	WHEN b"010" =>
		main_bus[] = from_ob[];
	WHEN b"011" =>
		main_bus[] = from_acc[];
	WHEN b"100" =>
		main_bus[] = from_ir[];
END CASE;


END;


